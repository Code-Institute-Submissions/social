{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center mb-2">
    <div class="col-11 col-xl-7 post-detail rounded pb-3">
        <!-- Title -->
        <div class="row mt-2">
            <div class="col">
                <h2 id="title">{{ post.title }}</h2>
            </div>
        </div>

        <!-- Post Date -->
        <div class="row">
            <div class="col">
                <span class="fst-italic">{{ post.post_date }}</span>
            </div>
        </div>

        <!-- Author/Category -->
        <div class="row mt-2 fst-italic">
            <div class="col">
                <span>by <span class="author">{{ post.author }}</span></span>
            </div>

            <div class="col text-end">
                <i class="fas fa-tag"></i>
                <span>{{ post.category }}</span>
            </div>
        </div>

        <!-- Content -->
        <div class="row">
            <div class="col">
                <p>{{ post.content | safe }}</p>
            </div>
        </div>

        {% if post.image %}
        <div class="row">
            <div class="col">
                <img
                    class="img-fluid rounded border border-secondary"
                    src="{{ post.image.url }}"
                    alt="post-image"
                />
            </div>
        </div>
        {% endif %}
    </div>
</div>

<!-- Comment Count -->
<div class="row justify-content-center">
    <div class="col-11 col-xl-7 mb-1 p-0">
        <span class="text-dark">{{ comments | length }} comments...</span>
    </div>
</div>

<!-- Comment Component -->
{% for comment in comments %}
<div class="row justify-content-center mb-2">
    <div class="col-11 col-xl-7 rounded comment">
        <h3 class="fst-italic fs-5 mt-2 mb-0"><span class="author">{{ comment.author }}</span> commented...</h3>
        <span class="fst-italic comment-date">{{ comment.comment_date }}</span>
        <hr>
        <p class="mt-2">{{ comment.content }}</p>
    </div>
</div>
{% endfor %}
{% endblock %}
